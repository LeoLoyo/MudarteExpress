</br><div ng-include='"views/cliente.html"'></div>
</br><div ng-include='"views/parcial_1.html"'></div>
<div ng-show="checked">
  <div class="row">
      <div class="col-md-12">
          <h1>Cotización express</h1>
          <form class="formulario">

          <!-- cabecera -->
            <div class="row hidden">
              <div class="form-group col-sm-6 col-md-4">
                  <label for="numerocotizacion">N° cotización:</label>
                  <input ng-focus="scrollAnime($event)" ng-model="cotizacion.numero" id="nCotizacion" type="text" class="form-control" id="numerocotizacion" placeholder="e.g: 0001">
              </div>
              <div class="form-group col-sm-6 col-md-4">
                  <label for="responsable">Nombre del responsable:</label>
                  <select ng-focus="scrollAnime($event)" ng-model="cotizacion.responsable" name="" id="responsable" class="form-control">
                      <option value="{{cotizacion.responsable}}" selected="selected">{{cotizacion.responsable.name}}</option>
                  </select>
              </div>
                <div class="form-group col-sm-6 col-md-4">
                 <label for="id_cliente">Nombre del cliente: </label>
                 <input type="text" ng-model="cliente.nombre" class="form-control" id="id_cliente">
             </div>
             <div class="form-group col-sm-6 col-md-4">
                 <label for="id_telefono">Telefono del cliente:</label>
                 <input ng-focus="scrollAnime($event)" type="number" id="id_telefono" class="form-control" placeholder="e.g: 000000000" ng-model="cliente.telefono">
             </div>

             <div class="form-group col-sm-6 col-md-4">
                 <label for="id_email">Email del cliente:</label>
                 <input ng-focus="scrollAnime($event)" type="email" class="form-control" placeholder="e.g: correo@email.com" id="id_email" ng-model="cliente.email">
             </div>
             <div class="form-group col-sm-6 col-md-4">
                 <label for="id_dieccion">Dirección del cliente:</label>
                 <textarea ng-focus="scrollAnime($event)" ng-model="cliente.direccion" id="id_direccion" cols="1" rows="1" class="form-control" placeholder="Dirección del cliente"></textarea>
             </div>
             <legend></legend>
            </div>
          <!-- fin de cabecera -->

          <!-- Muebles y contenedores -->
              <h2>Contenedores</h2>
                  <div ng-repeat="c in contenedores" class="btnSeleccion" ng-init="n.num=0" ng-class="{btnSeleccionado:n.num>0}">
                      <span class="classContenedores" ng-click="add_contenedor(c.contenedor,n.num)">{{c.contenedor}}</span>
                      <select ng-focus="scrollAnime($event)" ng-model="n" ng-options="n.num for n in cantidades" ng-change="add_contenedor(c.contenedor,n.num)">
                        <option ng-value="">0</option>
                      </select>
                  </div>
                  <br><br>
                  <legend></legend>
                  <div class="row">
                      <div class="col-md-12">
                          <h2>Muebles</h2>
                          <input type="search" placeholder="Buscar muebles" class="form-control hidden" ng-model="buscarMueble">
                      </div>
                  </div>

                  <div ng-repeat="group in muebles_group | filter: buscarMueble"></br><p><button style="border:none;background-color: #fff;width:100%;text-align: left;">{{group.descripcion}}</button></p>
                    <!-- Repeat de Muebles por descripcion -->
                    <div  ng-repeat=" c in muebles | filter: { descripcion:group.descripcion}:true " class="btnSeleccion" ng-class="{btnSeleccionado:m.num>0}">
                      <span>{{c.especificacion}}</span>

                      <select ng-focus="scrollAnime($event)" ng-model="m" ng-options="m.num for m in cantidades" ng-change="add_mueble(c,m.num)">
                          <option value="">0</option>
                      </select>
                  </div>
                    <!-- fin Repeat de Muebles por descripcion -->
                  </div>



                  <br><br>
                  <legend></legend>
                  <h2>Otros <button class="btn btn-default" ng-click="add_campo()">+</button></h2>
                  <div ng-repeat="campo in otros_temp_campo">
                    <form name="form_otro">
                      <div class="row">
                          <div class="form-group col-md-3">
                              <label for="">Descripción</label>
                              <select class="form-control"  ng-focus="scrollAnime($event)"  ng-model="otro" ng-init="otro.tipo_mueble = 'Otros'" ng-change="add_otros(campo,otro,ancho.num,largo.num,alto.num,cant.num,descripcion,campo)">
                                <option>Otros</option>
                                <option ng-repeat="m in tipo_muebles">{{m.tipo_mueble}}</option>
                              </select>
                            </br>
                              <input type="text"  placeholder="Descripción requerida" ng-model="descripcion" ng-blur="add_otros(campo,otro,ancho.num,largo.num,alto.num,cant.num,descripcion,campo)" class="form-control" ng-class="{hidden:otro !='Otros',error:!descripcion}">
                          </div>

                          <div class="form-group col-md-2">
                          <label for="">Ancho</label>
                          <!-- <select class="form-control " ng-disabled="cant.num>0"ng-model="ancho" ng-focus="scrollAnime($event)" ng-options="b.ancho for b in bultos | unique:'ancho' |orderBy:'ancho'"></select> -->
                          <select class="form-control " ng-model="ancho" ng-focus="scrollAnime($event)" ng-init="ancho.num =30" ng-options="b.num for b in cant_otros" ng-change="add_otros(campo,otro,ancho.num,largo.num,alto.num,cant.num,descripcion,campo)"><option value="">30</option></select>
                          </div>

                          <div class="form-group col-md-2">
                          <label for="">Largo</label>
                          <select class="form-control"  ng-focus="scrollAnime($event)" ng-model="largo" ng-init="largo.num =30"ng-options="b.num for b in cant_otros" ng-change="add_otros(campo,otro,ancho.num,largo.num,alto.num,cant.num,descripcion,campo)"><option value="">30</option></select>
                          <!-- <select class="form-control"  ng-disabled="cant.num>0"ng-focus="scrollAnime($event)" ng-model="largo" ng-options="b.largo for b in bultos | unique:'largo' |orderBy:'largo'"><option value="">30</option></select> -->
                          </div>

                          <div class="form-group col-md-2">
                          <label for="">Alto</label>
                          <select class="form-control"  ng-focus="scrollAnime($event)" ng-model="alto" ng-init="alto.num =30" ng-options="b.num for b in cant_otros" ng-change="add_otros(campo,otro,ancho.num,largo.num,alto.num,cant.num,descripcion,campo)"><option value="">30</option></select>

                          <!-- <select class="form-control"  ng-disabled="cant.num>0"ng-focus="scrollAnime($event)" ng-model="alto" ng-options="b.alto for b in bultos | unique:'alto'|orderBy:'alto'"></select> -->
                          </div>

                          <div class="form-group col-md-2">
                          <label for="">Cantidad</label>
                          <select ng-model="cant" ng-disabled="!(ancho.num && otro && largo.num && alto.num)" class="form-control" ng-init="cant.num=1" ng-change="add_otros(campo,otro,ancho.num,largo.num,alto.num,cant.num,descripcion,campo)" ng-options="cant.num for cant in [{num:2},{num:3},{num:4},{num:5},{num:6},{num:7},{num:8},{num:9},{num:10},{num:11},{num:12},{num:13},{num:14},{num:15}]">
                              <option value="">1</option>
                          </select>
                          </div>
                          <div class="form-group col-md-1">
                          <a ng-click="delete_campo(campo)" class="glyphicon glyphicon-remove" style="font-size:25px;margin-top:30px;cursor:pointer;"></a>
                          </div>
                      </div>

                    </form>

                  </div>

                  <br><br>
                  <legend></legend>
                  <br><br><br>
          <!-- fin Muebles y contenedores -->
          </form>
      </div>
  </div>
</div>
</br><div ng-include='"views/material.html"'></div>
<div ng-hide="checked" ng-include='"views/resumen.html"'></div>
